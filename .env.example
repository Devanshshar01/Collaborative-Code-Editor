# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                 Collaborative Code Editor - Environment Config              ║
# ║                                                                            ║
# ║  Copy this file to .env and fill in your values                            ║
# ║  DO NOT commit .env to version control!                                    ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# APPLICATION SETTINGS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Environment: development | production | test
NODE_ENV=development

# Backend server port
PORT=4000

# Yjs WebSocket server port
YJS_PORT=1234

# Frontend Vite dev server port
VITE_PORT=5173

# CORS allowed origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:5173,http://localhost:4173

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DATABASE - MongoDB
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# MongoDB connection string
# Local: mongodb://localhost:27017/collaborative_editor
# Docker: mongodb://admin:password@mongodb:27017/collaborative_editor?authSource=admin
# Atlas: mongodb+srv://<user>:<password>@cluster.xxxxx.mongodb.net/collaborative_editor
MONGODB_URI=mongodb://localhost:27017/collaborative_editor

# Database name (if not in URI)
DB_NAME=collaborative_editor

# MongoDB credentials for Docker
MONGO_USERNAME=admin
MONGO_PASSWORD=your_secure_mongo_password

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CACHE - Redis
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Redis connection URL
# Local: redis://localhost:6379
# Docker: redis://:password@redis:6379
# Cloud: redis://<user>:<password>@host:port
REDIS_URL=redis://localhost:6379

# Redis password (for Docker)
REDIS_PASSWORD=your_secure_redis_password

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AUTHENTICATION - JWT
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# JWT secret key (min 32 characters - generate with: openssl rand -base64 32)
JWT_SECRET=your_super_secret_jwt_key_at_least_32_chars_long

# JWT token expiration (examples: 7d, 24h, 60m)
JWT_EXPIRES_IN=7d

# Refresh token expiration
JWT_REFRESH_EXPIRES_IN=30d

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WEBSOCKET & REAL-TIME
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Socket.IO backend URL (for frontend)
VITE_WEBSOCKET_URL=http://localhost:4000

# Yjs CRDT WebSocket server URL (for frontend)
VITE_YJS_URL=ws://localhost:1234

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AI SERVICES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Google Gemini API Key (for AI Assistant)
# Get from: https://makersuite.google.com/app/apikey
VITE_GEMINI_API_KEY=your_gemini_api_key

# AssemblyAI API Key (for transcription)
# Get from: https://www.assemblyai.com/dashboard/signup
ASSEMBLYAI_API_KEY=8497731f600440cd916d5231bb63fee8

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WEBRTC - Video Conferencing
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# TURN server credentials (for NAT traversal)
# Free: https://www.metered.ca/tools/openrelay/
TURN_SERVER_URL=turn:your-turn-server.com:3478
TURN_SERVER_USERNAME=your_turn_username
TURN_SERVER_CREDENTIAL=your_turn_credential

# STUN servers (default Google STUN is usually fine)
STUN_SERVER_URL=stun:stun.l.google.com:19302

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CODE EXECUTION - Docker
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Docker socket path
# Linux/Mac: /var/run/docker.sock
# Windows: //./pipe/docker_engine
DOCKER_HOST=/var/run/docker.sock

# Execution timeout in milliseconds (default: 10 seconds)
EXECUTION_TIMEOUT=10000

# Maximum output size in bytes (default: 1MB)
MAX_OUTPUT_SIZE=1048576

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# RATE LIMITING & SECURITY
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Rate limit window (milliseconds)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX=100

# Enable helmet security headers
ENABLE_HELMET=true

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# LOGGING
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Log level: error | warn | info | http | verbose | debug | silly
LOG_LEVEL=info

# Log format: combined | common | dev | short | tiny | json
LOG_FORMAT=dev

# Enable file logging
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# PRODUCTION SETTINGS (Vercel/Cloud)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Production URLs (set in deployment dashboard)
# VITE_WEBSOCKET_URL=https://api.yourdomain.com
# VITE_YJS_URL=wss://yjs.yourdomain.com
# CORS_ORIGIN=https://yourdomain.com